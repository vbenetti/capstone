<template name="bookItem">
<div class="container top-margin">
    <div class="row">
      <div class="col-md-12">
          {{> bookMeta}}
      </div>
    </div>
 <!--
   <div class="row">
      <div class="col-md-12">
          {{> editingUsers}}
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
          {{> editor}}
      </div>
      <div class="col-md-6">
        {{> viewer}}
      </div>
     </div>-->
    {{> commentList}}

    {{> insertCommentForm}}

	</div><!-- end of docItem container -->

</template>





<template name="editor">  
      {{>sharejsCM bookid=bookid onRender=config id="editor" mode="javascript"}}
</template>


<template name="viewer">  
  <iframe id="viewer_iframe">
  </iframe>
</template>

<!--<template name="bookMeta"> 
  
  {{#with books}}
  <div class="row">
  <span class="h1"> Title: {{> editableText collection="books" field="title"}}</span>
  </div>
  <div class="row">
  <span class="h3"> Author:{{> editableText collection="books" field="author"}}</span>
  </div>
  {{#if canEdit}}
  <div class="checkbox">
      <label>
        <input type="checkbox" class="js-tog-private">Private
      </label>
  </div>
  {{/if}}

  {{/with}}
</template>-->
<template name="bookMeta">
   <!--{{#autoForm id=makeUniqueID type="update" collection=Collections.Items doc=this autosave=true}}
   {{#autoForm id="afUpdateDemo" type=formType collection=Collections.People doc=selectedPersonDoc autosave=autoSaveMode}}-->
   {{bookid}}
   {{#with bookid}}
    {{#autoForm collection="Books" id="bookMeta" type="method" meteormethod="updatebook"}}
    <fieldset>
     <legend>Book Details</legend>
      {{> afQuickField name='title'}}
      {{> afQuickField name='author'}}
      {{> afQuickField name='summary' rows=6 value="Write your summary here"}}
      {{> afQuickField name='shelvid' value="shelvid" type="hidden"}}
      {{> afQuickField name='owner' value=123 type="hidden"}}
       {{> afQuickField name='_id' value="XoKccsFEYLfiGNkJg"}}

    </fieldset>
 <button type="submit" class="btn btn-primary">Update</button>
  {{/autoForm}}
   {{/with}}
 
</template>


<!--<template name="editingUsers"> 
  Editors:
  {{#each users}}
  <span class="label label-success">{{firstname}} </span>
   
  {{/each}}
</template>-->

<template name="commentList">
  
  {{#each comments}}
  <ul>
    <li>{{title}}
      <p>{{body}}</p>
    </li>
  </ul>
  {{/each}}
</template>


<!--<template name="insertCommentForm2">
  {{> quickForm collection="Comments" id="insertCommentForm" type="method" meteormethod="addComment"}}
</template>-->

<template name="insertCommentForm">
    <br>
    <br>
           

    {{#autoForm collection="Comments" id="insertCommentForm" type="method" meteormethod="addComment"}}
    <fieldset>
      <legend>Add your reviews</legend>
      {{> afQuickField name='title'}}
      {{> afQuickField name='body' rows=6 value="Write your review here"}}
      {{> afQuickField name='bookid' value=bookid type="hidden"}}
      {{> afQuickField name='owner' value=123 type="hidden"}}

    </fieldset>
    <button type="submit" class="btn btn-primary">Insert</button>
  {{/autoForm}}
</template>